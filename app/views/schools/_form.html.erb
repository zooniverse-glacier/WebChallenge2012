<%= form_for @school, html: { class: 'form form-horizontal' } do |f| %>
  <%= f.error_messages %>
  
  <div class="control-group">
    <%= f.label :name, class: 'control-label' %>
    <div class="controls">
      <%= f.text_field :name %>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :coordinates, class: 'control-label' %>
    <div class="controls">
      <%= f.text_field :lat %>
      <%= f.text_field :lng %>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :story, class: 'control-label' %>
    <div class="controls">
      <%= f.text_area :story, rows: 10, cols: 100, style: 'width: 100%' %>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :enabled, class: 'control-label' %>
    <div class="controls">
      <%= f.check_box :enabled %>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :timeline_start_at, class: 'control-label' %>
    <div class="controls" >
      <div class="input-append date" data-date="<%= Time.now.strftime('%Y-%m-%d') %>" data-date-format="yyyy-mm-dd" data-behavior="datepicker">
        <%= f.text_field :timeline_start_at, class: 'span2' %>
        <span class="add-on"><i class="icon-th"></i></span>
      </div>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :timeline_end_at, class: 'control-label' %>
    <div class="controls" >
      <div class="input-append date" data-date="<%= Time.now.strftime('%Y-%m-%d') %>" data-date-format="yyyy-mm-dd" data-behavior="datepicker">
        <%= f.text_field :timeline_end_at, class: 'span2' %>
        <span class="add-on"><i class="icon-th"></i></span>
      </div>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :Events, class: 'control-label' %>
    
    <div class="controls">
    <%= f.fields_for :events do |event| %>
      <div class="well">
        <div class="control-group">
          <%= event.label :description, class: 'control-label' %>
          <div class="controls">
            <%= event.text_field :description %>
          </div>
        </div>

        <div class="control-group">
          <%= event.label :date, class: 'control-label' %>
          <div class="controls">
            <div class="input-append date" data-date="<%= Time.now.strftime('%Y-%m-%d') %>" data-date-format="yyyy-mm-dd" data-behavior="datepicker">
              <%= event.text_field :date, class: 'span2' %>
              <span class="add-on"><i class="icon-th"></i></span>
            </div>
          </div>
        </div>
      </div>  
    <%- end -%>
    </div>
  </div>
  
  <div class="control-group">
    <%= f.label :position, class: 'control-label' %>
    <div class="controls">
      <%= f.number_field :position %>
    </div>
  </div>
  
  <div class="control-group">
    <div class="controls">
      <p><%= f.submit class: 'btn btn-primary' %></p>
    </div>
  </div>
  
  <div class="control-group">
    <div class="controls">
      <%= link_to "Show", @school, class: 'btn btn-mini' %>&nbsp;&nbsp;
      <%= link_to "View All", schools_path, class: 'btn btn-mini' %>
    </div>
  </div>
<% end %>


<script type="text/javascript" charset="utf-8">
  $(function() {
    $('[data-behavior="datepicker"]').datepicker();
  });
</script>
